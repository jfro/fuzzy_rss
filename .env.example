# FuzzyRss Environment Variables Example
# Copy this file to .env and configure as needed

# ============================================================================
# Server Configuration
# ============================================================================

# Set to true to start the Phoenix server when running the release
# Note: This is automatically set to "true" in the Dockerfile
# PHX_SERVER=true

# The hostname for the application (used in production URLs)
# This should be your actual domain name
PHX_HOST=example.com

# The port the application listens on (default: 4000)
# When behind a proxy, this is the internal port (e.g., 4000)
PORT=4000

# URL scheme for generating absolute URLs (default: https)
# Set to "http" only if NOT using a TLS-terminating proxy
PHX_URL_SCHEME=https

# URL port for generating absolute URLs (default: 443)
# This is the external port users connect to, not the internal PORT
# Standard ports (80 for http, 443 for https) are omitted from URLs
PHX_URL_PORT=443

# WebSocket origin check for security (default: matches PHX_HOST)
# Set to "false" to disable (not recommended in production)
# Or set to comma-separated list: "https://example.com,https://www.example.com"
CHECK_ORIGIN=

# Secret key base for signing/encrypting cookies and sessions
# Generate with: mix phx.gen.secret
SECRET_KEY_BASE=

# ============================================================================
# Database Configuration
# ============================================================================

# Database adapter to use: sqlite, mysql, postgresql
# Default: sqlite
DATABASE_ADAPTER=sqlite

# SQLite Configuration (when DATABASE_ADAPTER=sqlite)
SQLITE_DATABASE_URL=/path/to/database.db

# PostgreSQL Configuration (when DATABASE_ADAPTER=postgresql)
POSTGRES_DATABASE_URL=ecto://postgres:postgres@localhost/fuzzy_rss_prod
# Or use DATABASE_URL for auto-detection
DATABASE_URL=ecto://postgres:postgres@localhost/fuzzy_rss_prod

# MySQL Configuration (when DATABASE_ADAPTER=mysql)
MYSQL_DATABASE_URL=mysql://root:password@localhost/fuzzy_rss_prod
# Or use DATABASE_URL for auto-detection
DATABASE_URL=mysql://root:password@localhost/fuzzy_rss_prod

# Database connection pool size (default: 10)
POOL_SIZE=10

# Enable SSL for database connections (default: false)
DATABASE_SSL=false

# Enable IPv6 for database connections (default: false)
ECTO_IPV6=false

# ============================================================================
# Mail Configuration
# ============================================================================

# Mail adapter to use: local, smtp, mailgun, sendgrid, postmark, gmail
# Default: local (development only, emails viewable at /dev/mailbox)
MAIL_ADAPTER=local

# --------------------
# SMTP Configuration (when MAIL_ADAPTER=smtp)
# --------------------

# SMTP server hostname (required)
MAIL_SMTP_RELAY=smtp.example.com

# SMTP username (required)
MAIL_SMTP_USERNAME=your-username

# SMTP password (required)
MAIL_SMTP_PASSWORD=your-password

# SMTP port (default: 587)
MAIL_SMTP_PORT=587

# TLS mode: always, never, if_available (default: always)
MAIL_SMTP_TLS=always

# Use SSL instead of TLS: true, false (optional)
MAIL_SMTP_SSL=false

# Authentication mode: always, never, if_available (optional)
MAIL_SMTP_AUTH=always

# Number of retries for failed sends (default: 1)
MAIL_SMTP_RETRIES=1

# Skip MX lookups: true, false (default: false)
MAIL_SMTP_NO_MX_LOOKUPS=false

# --------------------
# Mailgun Configuration (when MAIL_ADAPTER=mailgun)
# --------------------

# Mailgun API key (required)
MAIL_MAILGUN_API_KEY=key-1234567890abcdef

# Mailgun domain (required)
MAIL_MAILGUN_DOMAIN=mg.example.com

# Mailgun base URL (optional, use for EU region)
# US: https://api.mailgun.net/v3 (default)
# EU: https://api.eu.mailgun.net/v3
MAIL_MAILGUN_BASE_URL=https://api.mailgun.net/v3

# --------------------
# SendGrid Configuration (when MAIL_ADAPTER=sendgrid)
# --------------------

# SendGrid API key (required)
# Generate at: https://app.sendgrid.com/settings/api_keys
MAIL_SENDGRID_API_KEY=SG.xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# --------------------
# Postmark Configuration (when MAIL_ADAPTER=postmark)
# --------------------

# Postmark Server API Token (required)
# Find at: https://account.postmarkapp.com/servers/{server_id}/credentials
MAIL_POSTMARK_API_KEY=xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx

# --------------------
# Gmail API Configuration (when MAIL_ADAPTER=gmail)
# --------------------

# Gmail OAuth2 Access Token (required)
# Note: This uses Gmail API, not SMTP. For Gmail SMTP, use MAIL_ADAPTER=smtp
# See: https://developers.google.com/gmail/api/auth/about-auth
MAIL_GMAIL_ACCESS_TOKEN=ya29.xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# ============================================================================
# Authentication Configuration
# ============================================================================

# Disable magic link authentication (default: false)
# Set to "true" to require password-based auth only
DISABLE_MAGIC_LINK=false

# Enable/disable user signups (default: true)
# Set to "false" to allow only the first user to signup (one-time registration)
SIGNUP_ENABLED=true

# --------------------
# OIDC Configuration (Optional)
# --------------------

# Enable OIDC authentication (default: false)
OIDC_ENABLED=false

# OIDC client ID (required if OIDC_ENABLED=true)
OIDC_CLIENT_ID=

# OIDC client secret (required if OIDC_ENABLED=true)
OIDC_CLIENT_SECRET=

# OIDC discovery URL (required if OIDC_ENABLED=true)
# Example: https://accounts.google.com/.well-known/openid-configuration
OIDC_DISCOVERY_URL=

# ============================================================================
# Clustering Configuration (Optional)
# ============================================================================

# DNS query for libcluster auto-discovery (optional)
DNS_CLUSTER_QUERY=
